<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: Store/reducers/events/index.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: Store/reducers/events/index.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import {
  DELETE_EVENT_SUCCESSFUL,
  EDIT_EVENT_SUCCESSFUL,
  SAVE_EVENT_SUCCESSFUL,
} from "./constants";

const initState = {
  hasError: false,
  events: [],
};
export const eventsReducer = (state = initState, action) => {
  switch (action.type) {
    case SAVE_EVENT_SUCCESSFUL: {
      /**
       * insert new event into events list
       */
      return {
        ...state,
        events: [...state.events, action.payload],
      };
    }

    case EDIT_EVENT_SUCCESSFUL: {
      /**
       * find data by index and replace it with new object sent from component
       */
      const eventIndex = state.events.findIndex(
        (item) => item.id === action.payload.event.id
      );
      const tempEvents = [
        ...state.events.slice(0, eventIndex),
        {
          ...action.payload.event,
          currentDate: state.events[eventIndex].currentDate,
        },
        ...state.events.slice(eventIndex + 1),
      ];
      return {
        ...state,
        events: tempEvents,
      };
    }
    case DELETE_EVENT_SUCCESSFUL: {
      /**
       * find data by index and delete in redux state
       */
      const eventIndex = state.events.findIndex(
        (item) => item.id === action.payload
      );
      const tempEvents = [
        ...state.events.slice(0, eventIndex),
        ...state.events.slice(eventIndex + 1),
      ];
      return {
        ...state,
        events: tempEvents,
      };
    }
    default:
      return state;
  }
};
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#AddEventScreen">AddEventScreen</a></li><li><a href="global.html#Button">Button</a></li><li><a href="global.html#Calendar">Calendar</a></li><li><a href="global.html#CalendarHeader">CalendarHeader</a></li><li><a href="global.html#CalendarScreen">CalendarScreen</a></li><li><a href="global.html#CategorizedEventMapper">CategorizedEventMapper</a></li><li><a href="global.html#Component">Component</a></li><li><a href="global.html#Content">Content</a></li><li><a href="global.html#DayRenderer">DayRenderer</a></li><li><a href="global.html#EventCard">EventCard</a></li><li><a href="global.html#EventDetail">EventDetail</a></li><li><a href="global.html#EventListRenderer">EventListRenderer</a></li><li><a href="global.html#Events">Events</a></li><li><a href="global.html#extraClassName">extraClassName</a></li><li><a href="global.html#Footer">Footer</a></li><li><a href="global.html#Home">Home</a></li><li><a href="global.html#Input">Input</a></li><li><a href="global.html#ModalEvents">ModalEvents</a></li><li><a href="global.html#ModalRenderer">ModalRenderer</a></li><li><a href="global.html#SimpleEventMapper">SimpleEventMapper</a></li><li><a href="global.html#TabGenerator">TabGenerator</a></li><li><a href="global.html#TextArea">TextArea</a></li><li><a href="global.html#TimeRenderer">TimeRenderer</a></li><li><a href="global.html#Title">Title</a></li><li><a href="global.html#title">title</a></li><li><a href="global.html#Toast">Toast</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.6</a> on Mon Dec 28 2020 23:40:44 GMT+0330 (Iran Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
